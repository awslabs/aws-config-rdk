tests:
  - name: my-test-name
    policy:
      file: policy.yaml
      name: my-policy-name-existing
      resource_state: existing
    runtime_files:
      c7n_resources:
        - runtime-files/file1.json
        - runtime-files/file2.json
    terraform:
      root: tf-root-module
    pytest:
      options:
        - --cache-clear
      file_or_dir:
        - my-pytest.py

  - name: my-test-name-2
    policy:
      file: policy.yaml
      name: my-policy-name-net-new
      resource_state: net-new
    terraform:
      root: tf-root-module
      tfvars:
        - tf-root-module/my-var-1.tfvars
        - tf-root-module/my-var-2.tfvars
    pytest:
      file_or_dir:
        - my-pytest.py::test_method

  - name: my-test-name-3
    policy:
      file: policy.yaml
      name: my-policy-name-net-change
      resource_state: net-change
    terraform:
      root: tf-root-module
      tfvars:
        - tf-root-module/my-var-1.tfvars
      tfvars_net_change:
        - tf-root-module/my-var-1.tfvars
    pytest:
      file_or_dir:
        - my-pytest.py
